{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template local_blog/manage


    Example context (json):
    {

    }
}}
<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.1/js/dataTables.bootstrap4.min.js"></script>

<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.css">
<link href="https://cdn.datatables.net/1.13.1/css/dataTables.bootstrap4.min.css">
<script>
    $(document).ready(function () {
        $('#table_news').DataTable({
            order: [[ 3, 'desc' ], [ 0, 'asc' ]]
        });
    });
</script>
<h1>Table view</h1>

<div class="create_news">
    <input type="button" class="btn btn-primary" value="Create a news" onclick="location.href='{{editurl}}'">
</div>

<table id="table_news" class="table table-striped table-bordered">
    <thead>
    <tr>
        <th>Id</th>
        <th>Title</th>
        <th>Is Enabled</th>
        <th>Created</th>
        <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    {{#messages}}
        <tr>
            <td>{{id}}</td>
            <td>{{newstitle}}</td>
            <td>{{newsenable}}</td>
            <td>{{#userdate}} {{created}}, {{#str}} strftimedate, core_langconfig {{/str}} {{/userdate}}</td>
            <td>
                    <span class="edit_news">
                        <input type="button" class="btn btn-primary" value="Edit the news"
                               onclick="location.href='{{editurl}}?newsid={{id}}'">
                    </span>
                <span class="delete_news">
                        <input type="button" data-id="{{id}}" class="local_newsid{{id}} btn btn-danger local_blog_delete_button"
                               value="Delete the news">
                </span>
            </td>
        </tr>
    {{/messages}}
    </tbody>
    <tfoot>
    <tr>
        <th>Id</th>
        <th>Title</th>
        <th>Is Enabled</th>
        <th>Created</th>
        <th>Actions</th>
    </tr>
    </tfoot>
</table>

